webpackJsonp([1],{"85Qb":function(t,e){},dAjm:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=void 0,o={data:function(){return{payling:!1,payMethod:"xianjin",disAmount:"",payAmount:0,searchCode:"",drawer:!1,isTakeOut:1,memberInfo:{user_id:"",nickname:"",card_num:"",money:"",inte:""},isGoodsUp:!1,cancelGoodUp:null,deviceNum:"",userInfo:null,isPresent:!1,singleNoteInput:!1,isHasSingleNote:!1,textarea:"",orderNoteInput:!1,orderNote:"",checkboxArr:[],lightNavType:null,currentMenu:null,totalMoney:0,discountMoney:0,menuNav:[],requestConfig:{cat_id:0,page:0,page_num:10},searchKeyConfig:{keyword:"",cat_id:"",page:0,page_num:10},submitConfig:{sn:"",note:"",take_out:1,concessional:"0",type:"5",bar_code:"",goodslist:[]},foodList:[],foodsCatchArray:[],chooseFoods:[],goodsUpArr:[],webSocket:null,paymentTerm:[{type:"xianjin",name:"现金",value:5},{type:"weChat",name:"微信",value:7},{type:"alipay",name:"支付宝",value:6},{type:"codeScanner",name:"扫码枪",value:8},{type:"weChatFace",name:"微信刷脸",value:4},{type:"alipayFace",name:"支付宝刷脸",value:1}]}},created:function(){this.userInfo=JSON.parse(localStorage.getItem("USER_INFO")),this.cacheInfo(),this.category(),this.sumMoney()},methods:{clearOrderInfo:function(){this.disAmount="",this.searchCode="",this.payMethod="xianjin",this.isTakeOut=1,this.chooseFoods.splice(0),this.isPresent=!1,this.isHasSingleNote=!1,this.lightNavType=null,this.orderNote="",this.deviceNum="",this.drawer=!1,this.sumMoney()},cancelDrawer:function(){this.deviceNum="",this.disAmount="",this.searchCode="",this.payMethod="xianjin",this.drawer=!1},confirmPay:function(){var t=this;this.submitConfig.concessional=this.disAmount,this.submitConfig.goodslist=this.chooseFoods,this.submitConfig.take_out=this.isTakeOut,this.submitConfig.note=this.orderNote,8===this.submitConfig.type&&(this.submitConfig.bar_code=this.searchCode),this.payling=!0,this.$https.post(this.$api.submitConfirm,this.submitConfig).then(function(e){e&&200==e.code&&(1===e.data.payType?(t.$note.success({message:"结账成功!",center:!0}),setTimeout(function(){t.clearOrderInfo(),t.payling=!1},800)):3===e.data.payType&&t.toEquipment(e.data.order_sn))})},inputMoneyBtn:function(t){/^(10|20|50|100)/i.test(t)?this.disAmount=t:this.disAmount+=t.toString()},payMethodTap:function(t,e){if("codeScanner"===t)this.$refs.autofocus.focus();else if("alipayFace"===t){var s=this.userInfo.alipayEquipments;s[0]&&(this.deviceNum=s[0].value)}else if("weChatFace"===t){var i=this.userInfo.wechatEquipments;i[0]&&(this.deviceNum=i[0].value)}this.payMethod=t,this.submitConfig.type=e},disAmountBtn:function(){if(!this.disAmount||this.disAmount>this.payAmount)return this.disAmount="";this.payAmount=(this.payAmount-this.disAmount).toFixed(2)},searchUserInfo:function(){var t=this;this.memberInfo.card_num&&this.$https.post(this.$api.userInfo,this.memberInfo).then(function(e){e&&200===e.code&&(t.memberInfo=e.data)})},cancelLigntNav:function(){clearTimeout(i),this.lightNavType=null,this.checkboxArr.splice(0)},selectDevice:function(t){this.deviceNum=this.submitConfig.sn=t},cancelOrderNote:function(){this.orderNoteInput=!1,this.orderNote=""},remarks:function(t){0!=this.checkboxArr.length&&(this.singleNoteInput=!0)},cancelSingleNote:function(){this.textarea="",this.checkboxArr.splice(0),this.singleNoteInput=!1},sNoteConfirm:function(){var t=this;this.chooseFoods.forEach(function(e){t.checkboxArr.forEach(function(s,i){e.goods_id==s&&(e.note=t.textarea,t.checkboxArr.splice(i,1))})}),this.isHasSingleNote=!0,this.singleNoteInput=!1,this.textarea=""},sNoteRemove:function(){var t=this;0!=this.checkboxArr.length&&(this.chooseFoods.forEach(function(e){t.checkboxArr.forEach(function(s,i){e.goods_id==s&&(e.note="",t.checkboxArr.splice(i,1))})}),this.isHasSingleNote=this.chooseFoods.some(function(t){return t.note}))},sumMoney:function(){var t=0,e=0;this.chooseFoods.forEach(function(s){s.present||(t+=s.shop_price*s.goods_num,e+=(s.shop_price-s.shop_price*s.discount)*s.goods_num)}),this.totalMoney=Math.ceil(100*(t-e))/100,this.discountMoney=Math.floor(100*e)/100;var s={cacheFoods:this.chooseFoods,discountMoney:this.discountMoney,totalMoney:this.totalMoney};sessionStorage.setItem("CATCH_INFO",JSON.stringify(s))},searchFoods:function(){var t=this;this.$https.post(this.$api.searchFood,this.searchKeyConfig).then(function(e){e&&200==e.code&&e.data.length&&(t.foodList=e.data)})},cacheInfo:function(){var t=sessionStorage.getItem("CATCH_INFO"),e=sessionStorage.getItem("GOODS_UP");if(t){var s=JSON.parse(t),i=s.cacheFoods,o=s.discountMoney,n=s.totalMoney;this.chooseFoods=i,this.discountMoney=o,this.totalMoney=n}e&&(this.goodsUpArr=JSON.parse(e))},category:function(){var t=this;this.$https.post(this.$api.category).then(function(e){e&&200==e.code&&(t.menuNav=e.data,e.data.length>0&&(e.data.map(function(e,s){t.foodsCatchArray[s]={list:[],requestConfig:{cat_id:0,page:0,page_num:10},isFinish:!1}}),t.foodsCatchArray[0].requestConfig.cat_id=e.data[0].cat_id,t.currentMenu=0))})},goodsList:function(){var t=this;this.$refs.scrollElement.scrollTop=0;var e=this.foodsCatchArray[this.currentMenu];0==e.list.length?this.$https.post(this.$api.goods,e.requestConfig).then(function(s){s&&200==s.code&&(t.foodList=e.list=s.data,s.data.length<10&&(e.isFinish=!0))}):this.foodList=e.list},lodeMore:function(t){var e=this,s=this.foodsCatchArray[this.currentMenu];if(s.isFinish)return!1;var i=t.target,o=i.scrollTop,n=i.clientHeight;if(i.scrollHeight==o+n){s.requestConfig.page++;var a=this.$loading.service({target:".right_bottom",lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0,0,0,0.3)"});this.$https.post(this.$api.goods,s.requestConfig).then(function(t){setTimeout(function(){a.close()},500),t&&200==t.code&&(e.foodList=s.list=s.list.concat(t.data),t.data.length<10&&(s.isFinish=!0))})}},menuTap:function(t,e){this.currentMenu=e,this.foodsCatchArray[e].requestConfig.cat_id=t},forwardTab:function(){if(0===this.currentMenu)return!1;this.currentMenu--,this.foodsCatchArray[this.currentMenu].requestConfig.cat_id=this.menuNav[this.currentMenu].cat_id},backTab:function(){if(this.currentMenu===this.menuNav.length-1)return!1;this.currentMenu++,this.foodsCatchArray[this.currentMenu].requestConfig.cat_id=this.menuNav[this.currentMenu].cat_id},handleCheckbox:function(t){this.checkboxArr=t},selectFood:function(t){var e=Object.assign({},t),s=void 0;this.chooseFoods.some(function(t,i){return s=i,t.goods_id==e.goods_id})?this.chooseFoods[s].goods_num++:this.chooseFoods.unshift(e),this.sumMoney()},delFoods:function(t){var e=this;0!=this.checkboxArr.length&&(this.lightNavType=t,this.checkboxArr.forEach(function(t){e.chooseFoods=e.chooseFoods.filter(function(e){return e.goods_id!=t})}),this.checkboxArr=[],this.sumMoney(),setTimeout(function(){e.lightNavType=null},800))},addNum:function(t){var e=this;0!=this.checkboxArr.length&&(clearTimeout(i),i=setTimeout(function(){e.chooseFoods.forEach(function(t){e.checkboxArr.forEach(function(e){t.goods_id==e&&t.goods_num++})}),e.lightNavType=t,e.sumMoney()},500))},reduceNum:function(t){var e=this;0!=this.checkboxArr.length&&(clearTimeout(i),i=setTimeout(function(){e.chooseFoods.forEach(function(t){e.checkboxArr.forEach(function(e){t.goods_id==e&&t.goods_num>1&&t.goods_num--})}),e.lightNavType=t,e.sumMoney()},500))},orderRemarks:function(){this.chooseFoods.length&&(this.orderNoteInput=!0)},present:function(t){var e=this;0!=this.checkboxArr.length&&(this.chooseFoods.forEach(function(t){e.checkboxArr.forEach(function(s,i){t.goods_id==s&&(t.present=!0,e.checkboxArr.splice(i,1))})}),this.isPresent=!0,this.sumMoney())},canclePresent:function(){var t=this;0!=this.checkboxArr.length&&(this.chooseFoods.forEach(function(e){t.checkboxArr.forEach(function(s,i){e.goods_id===s&&(e.present=!1,t.checkboxArr.splice(i,1))})}),this.isPresent=this.chooseFoods.some(function(t){return!0===t.present}),this.sumMoney())},exit:function(){var t=this;this.$message.confirm("您是否确定退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){sessionStorage.clear(),localStorage.clear(),t.$router.replace("/login")}).catch(function(){t.$note({message:"取消退出",center:!0})})},showPayMask:function(){this.chooseFoods.length&&(this.drawer=!0,this.payAmount=this.totalMoney)},putUp:function(){var t=this;if(this.chooseFoods.length)this.$message.confirm("已选商品将会挂单处理, 是否继续?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.goodsUpArr.push(t.chooseFoods),t.chooseFoods=[],t.sumMoney(),sessionStorage.setItem("GOODS_UP",JSON.stringify(t.goodsUpArr)),t.$message.confirm("挂单成功","提示",{confirmButtonText:"查看",cancelButtonText:"取消",type:"success"}).then(function(){t.isGoodsUp=!0}).catch(function(){})});else{if(!this.goodsUpArr.length)return;this.isGoodsUp=!0}},cancelGoodUpBtn:function(){this.chooseFoods=this.goodsUpArr[this.cancelGoodUp],this.goodsUpArr.splice(this.cancelGoodUp,1),sessionStorage.setItem("GOODS_UP",JSON.stringify(this.goodsUpArr)),this.cancelGoodUp=null,this.isGoodsUp=!1,this.sumMoney()},takeOut:function(){this.chooseFoods.length&&(1==this.isTakeOut?this.isTakeOut=2:this.isTakeOut=1)},manage:function(){},toEquipment:function(t){var e=this,s={order_sn:t,sn:this.deviceNum,old_sn:"web"+this.userInfo.id};this.$https.post(this.$api.toEquipment,s).then(function(t){t&&200==t.code&&e.initSocket()})},initSocket:function(){this.webSocket=new WebSocket("wss://api.2020demo.jiafuw.com/wss"),this.webSocket.onopen=this.webSocketOpen,this.webSocket.onmessage=this.webSocketGetMessage,this.webSocket.onerror=this.webSocketError,this.webSocket.onclose=this.webSocketClose},webSocketOpen:function(){this.webSocket.send(JSON.stringify({sn:"web"+this.userInfo.id,type:4}))},webSocketClose:function(){this.initSocket()},webSocketGetMessage:function(t){var e=this,s=JSON.parse(t.data);1==s.code?(this.$note.success({message:"用户支付成功",center:!0}),setTimeout(function(){e.clearOrderInfo()},800),this.payling=!1,this.webSocket.close()):-1==s.code&&(this.$message.confirm("是否清空列表?","用户取消支付",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(t){e.clearOrderInfo()}),this.payling=!1,this.webSocket.close())},webSocketError:function(t){console.log(t)}},watch:{currentMenu:function(){this.goodsList()}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",{staticClass:"topNav"},[i("div",{staticClass:"nav_left"},[i("img",{staticClass:"nav_left_logo",attrs:{src:t.userInfo.store_logo,alt:""}}),t._v(" "),i("div",{staticClass:"nav_left_user"},[i("div",{staticClass:"nav_left_user_info"},[i("i",{staticClass:"iconfont icon-touxiang"}),t._v(" "),i("span",[t._v(t._s(t.userInfo.username))])])])]),t._v(" "),i("div",{staticClass:"nav_right"},[i("el-button",{attrs:{type:"text"},on:{click:t.exit}},[t._v("退出"),i("i",{staticClass:"iconfont icon-xialashixin",staticStyle:{"margin-left":"8px"}})])],1)]),t._v(" "),i("div",{staticClass:"main"},[i("div",{staticClass:"left"},[i("div",{staticClass:"left_top"},[i("div",{staticClass:"left_top_main"},[i("div",{staticClass:"left_top_main_up"},[t._m(0),t._v(" "),i("div",{staticClass:"right_top_content"},[i("div",[t._v("零钱："+t._s(t.memberInfo.money||0))]),t._v(" "),i("div",[t._v("积分："+t._s(t.memberInfo.inte||0))])])]),t._v(" "),i("div",{staticClass:"left_top_bottom"},[i("el-input",{attrs:{placeholder:"请输入会员卡号",size:"small",clearable:""},model:{value:t.memberInfo.card_num,callback:function(e){t.$set(t.memberInfo,"card_num",e)},expression:"memberInfo.card_num"}},[i("template",{slot:"prefix"},[t._v("NO:")]),t._v(" "),i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchUserInfo},slot:"append"})],2)],1)])]),t._v(" "),i("div",{staticClass:"left_middle"},t._l(t.chooseFoods,function(e,s){return i("div",{key:s,staticClass:"left_middle_item"},[i("div",{staticClass:"left_middle_circle"},[t._v(t._s(s+1))]),t._v(" "),i("div",{staticClass:"left_middle_info"},[i("div",{staticClass:"left_middle_info_food"},[i("p",[t._v(t._s(e.goods_name))]),t._v(" "),i("p",{staticClass:"left_middle_info_food_bottom"},[i("span",[t._v(t._s("NO."+e.goods_id))])])]),t._v(" "),i("span",[t._v(t._s("x"+e.goods_num))]),t._v(" "),i("span",{staticClass:"left_middle_info_price",class:e.present?"left_middle_price_present":""},[t._v(t._s("￥"+e.shop_price))]),t._v(" "),e.note?i("p",{staticClass:"note_class"},[t._v(t._s("备注："+e.note))]):t._e()]),t._v(" "),e.discount>0&&e.discount<1?i("div",{staticClass:"left_middle_item_sale"},[i("span",[t._v("折")]),t._v(" "),i("span",[t._v("特")])]):t._e(),t._v(" "),i("el-checkbox-group",{staticClass:"left_middle_item_del",on:{change:t.handleCheckbox},model:{value:t.checkboxArr,callback:function(e){t.checkboxArr=e},expression:"checkboxArr"}},[i("el-checkbox",{attrs:{label:e.goods_id}},[t._v(" ")])],1)],1)}),0),t._v(" "),i("div",{staticClass:"left_bottom"},[i("div",{staticClass:"left_bottom_info"},[i("div",{staticClass:"left_bottom_info_item"},[i("p",[t._v("数量："+t._s(t.chooseFoods.length))]),t._v(" "),i("p",[t._v("折扣：-￥"+t._s(t.discountMoney))])]),t._v(" "),i("div",{staticClass:"left_bottom_info_item"},[i("p",[t._v("合计：")]),t._v(" "),i("p",{staticClass:"left_bottom_info_itme_total"},[t._v("￥"+t._s(t.totalMoney))])])]),t._v(" "),i("div",{staticClass:"left_bottom_noteClass"},[i("span",[t._v("全单备注：")]),t._v(" "),i("span",{staticClass:"left_bottom_noteClass_text"},[t._v(t._s(t.submitConfig.note))])]),t._v(" "),i("div",{staticClass:"left_bottom_btn"},[i("el-button",{attrs:{type:"danger"},on:{click:t.orderRemarks}},[t._v("全单备注")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.showPayMask}},[t._v("结账")])],1)])]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"right_nav"},[i("div",{staticClass:"right_nav_item",class:"addNum"==t.lightNavType?"lightNav":"",on:{click:function(e){return t.addNum("addNum")},dblclick:t.cancelLigntNav}},[t._m(1)]),t._v(" "),i("div",{staticClass:"right_nav_item",class:"reduceNum"==t.lightNavType?"lightNav":"",on:{click:function(e){return t.reduceNum("reduceNum")},dblclick:t.cancelLigntNav}},[t._m(2)]),t._v(" "),i("div",{staticClass:"right_nav_item",class:"delFoods"==t.lightNavType?"lightNav":"",on:{click:function(e){return t.delFoods("delFoods")}}},[t._m(3)]),t._v(" "),i("div",{staticClass:"right_nav_item",class:"manage"==t.lightNavType?"lightNav":"",on:{click:function(e){return t.manage("manage")}}},[t._m(4)]),t._v(" "),i("div",{staticClass:"right_nav_item"},[i("div",{staticClass:"right_nav_item_inner",on:{click:t.remarks}},[i("i",{staticClass:"iconfont icon-tianjiabeizhu",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),t._v(" "),i("span",[t._v("备注")])])]),t._v(" "),i("div",{staticClass:"right_nav_item",class:t.isHasSingleNote?"lightNav":""},[i("div",{staticClass:"right_nav_item_inner",on:{click:t.sNoteRemove}},[i("i",{staticClass:"iconfont icon-cancel",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),t._v(" "),i("span",[t._v("取消备注")])])]),t._v(" "),i("div",{staticClass:"right_nav_item",class:t.isPresent?"lightNav":""},[t.isPresent?i("div",{staticClass:"right_nav_item_inner",on:{click:t.canclePresent}},[i("i",{staticClass:"iconfont icon-zengsong",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),t._v(" "),i("span",[t._v("取消")])]):i("div",{staticClass:"right_nav_item_inner",on:{click:function(e){return t.present("present")}}},[i("i",{staticClass:"iconfont icon-zengsong",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),t._v(" "),i("span",[t._v("赠送")])])]),t._v(" "),i("div",{staticClass:"right_nav_item",class:{lightNav:2===t.isTakeOut},on:{click:t.takeOut}},[t._m(5)]),t._v(" "),i("el-badge",{staticClass:"item",attrs:{value:t.goodsUpArr.length,hidden:0==t.goodsUpArr.length}},[i("div",{staticClass:"right_nav_item",class:t.goodsUpArr.length?"lightNav":"",on:{click:t.putUp}},[i("div",{staticClass:"right_nav_item_inner"},[i("i",{staticClass:"iconfont icon-tuichu",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),t._v(" "),i("span",[t._v("挂单")])])])])],1),t._v(" "),i("div",{staticClass:"right_menu"},[i("div",{staticClass:"right_menu_bar"},[i("i",{staticClass:"iconfont icon-xiangzuo",on:{click:t.forwardTab}}),t._v(" "),i("ul",{staticClass:"right_menu_bar_list"},t._l(t.menuNav,function(e,s){return i("li",{key:s,class:t.currentMenu==s?"right_menu_bar_item":"",on:{click:function(i){return t.menuTap(e.cat_id,s)}}},[t._v(t._s(e.name))])}),0),t._v(" "),i("i",{staticClass:"iconfont icon-xiangyou",on:{click:t.backTab}})]),t._v(" "),i("div",{staticClass:"right_menu_search"},[i("i",{staticClass:"iconfont icon-sousuo"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyConfig.keyword,expression:"searchKeyConfig.keyword"}],attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.searchKeyConfig.keyword},on:{change:t.searchFoods,input:function(e){e.target.composing||t.$set(t.searchKeyConfig,"keyword",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"right_bottom"},[i("ul",{ref:"scrollElement",staticClass:"right_bottom_ul",on:{scroll:t.lodeMore}},t._l(t.foodList,function(e,s){return i("li",{key:s,on:{click:function(s){return t.selectFood(e)}}},[i("div",{staticClass:"right_bottom_photo"},[i("img",{attrs:{src:e.picture,alt:""}}),t._v(" "),i("div",{staticClass:"right_bottom_photo_mask"},[i("div",[e.discount>0&&e.discount<1?[i("span",[t._v("折")]),t._v(" "),i("span",[t._v("特")])]:t._e()],2),t._v(" "),i("span",[t._v("￥"+t._s(1*e.shop_price))])])]),t._v(" "),i("p",[t._v(t._s(e.goods_name))]),t._v(" "),i("p",[t._v(t._s("NO."+e.goods_id))])])}),0)])])]),t._v(" "),i("el-dialog",{attrs:{title:"添加备注",visible:t.singleNoteInput,width:"30%",center:"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.singleNoteInput=e}}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入商品备注信息",maxlength:"30","show-word-limit":""},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelSingleNote}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.sNoteConfirm}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"全单备注",visible:t.orderNoteInput,width:"30%",center:"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.orderNoteInput=e}}},[i("el-input",{attrs:{type:"textarea",placeholder:"请输入订单备注信息",maxlength:"50","show-word-limit":""},model:{value:t.orderNote,callback:function(e){t.orderNote=e},expression:"orderNote"}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelOrderNote}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.orderNoteInput=!1}}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"商品挂单",visible:t.isGoodsUp,width:"35%",center:"",top:"5vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.isGoodsUp=e}}},[i("ul",{staticClass:"left_middle goodsUp"},t._l(t.goodsUpArr,function(e,s){return i("li",{key:s},[i("el-radio",{staticStyle:{"margin-bottom":"15px"},attrs:{label:s,border:!1,size:"mini"},on:{change:t.cancelGoodUpBtn},model:{value:t.cancelGoodUp,callback:function(e){t.cancelGoodUp=e},expression:"cancelGoodUp"}},[t._v("取消挂单")]),t._v(" "),t._l(e,function(e,s){return i("div",{key:s,staticClass:"left_middle_item"},[i("div",{staticClass:"left_middle_circle"},[t._v(t._s(s+1))]),t._v(" "),i("div",{staticClass:"left_middle_info"},[i("div",{staticClass:"left_middle_info_food"},[i("p",[t._v(t._s(e.goods_name))]),t._v(" "),i("p",{staticClass:"left_middle_info_food_bottom"},[i("span",[t._v(t._s("NO."+e.goods_id))])])]),t._v(" "),i("span",[t._v(t._s("x"+e.goods_num))]),t._v(" "),i("span",{staticClass:"left_middle_info_price",class:e.present?"left_middle_price_present":""},[t._v(t._s("￥"+e.shop_price))]),t._v(" "),e.note?i("p",{staticClass:"note_class"},[t._v(t._s("备注："+e.note))]):t._e()])])})],2)}),0)]),t._v(" "),t.drawer?i("div",{staticClass:"maskLayer"},[i("div",{staticClass:"mask_layer_content"},[i("div",{staticClass:"mask_layer_content_top"},t._l(t.paymentTerm,function(e,o){return i("div",{key:o,staticClass:"m_l_c_top_Btn",class:{pay_method_light:t.payMethod===e.type},on:{click:function(s){return t.payMethodTap(e.type,e.value)}}},[t._v("\n            "+t._s(e.name)+"\n            "),t.payMethod===e.type?i("img",{attrs:{src:s("lEyo")}}):t._e()])}),0),t._v(" "),i("div",{staticClass:"mask_layer_content_middle"},[i("div",{staticClass:"mask_layer_content_middle_item"},[i("span",{staticClass:"m_l_c_m_title"},[t._v("本次支付")]),t._v(" "),i("el-input",{staticClass:"autoInput input_red_color",attrs:{size:"small",placeholder:"请使用扫码器进行扫描",value:"￥"+t.payAmount,disabled:""}})],1),t._v(" "),i("div",{staticClass:"mask_layer_content_middle_item"},[i("span",{staticClass:"m_l_c_m_title"},[t._v("优惠金额")]),t._v(" "),i("el-input",{ref:"inputMoney",staticClass:"autoInput",attrs:{size:"small",placeholder:"0.00",clearable:""},model:{value:t.disAmount,callback:function(e){t.disAmount=e},expression:"disAmount"}},[i("i",{staticClass:"el-input__icon",attrs:{slot:"prefix"},slot:"prefix"},[t._v("￥")])]),t._v(" "),i("el-button",{staticStyle:{width:"100px","font-size":"14px"},attrs:{type:"primary",size:"small"},on:{click:t.disAmountBtn}},[t._v("确 认")])],1),t._v(" "),i("div",{staticClass:"mask_layer_content_middle_item"},[i("span",{staticClass:"m_l_c_m_title"},[t._v("请扫描")]),t._v(" "),i("el-input",{ref:"autofocus",staticClass:"autoInput",attrs:{size:"small",placeholder:"请使用扫码器进行扫描",clearable:""},model:{value:t.searchCode,callback:function(e){t.searchCode=e},expression:"searchCode"}})],1)]),t._v(" "),i("table",[i("tr",[i("td",{on:{click:function(e){return t.inputMoneyBtn(7)}}},[t._v("7")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(8)}}},[t._v("8")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(9)}}},[t._v("9")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(10)}}},[t._v("10")]),t._v(" "),i("td",{staticClass:"td_blue_bgcolor"},[t._v("打印结账单")]),t._v(" "),i("td",{staticClass:"td_blue_bgcolor"},[t._v("需开发票")])]),t._v(" "),i("tr",[i("td",{on:{click:function(e){return t.inputMoneyBtn(4)}}},[t._v("4")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(5)}}},[t._v("5")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(6)}}},[t._v("6")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(20)}}},[t._v("20")]),t._v(" "),i("td",{attrs:{colspan:"2"},on:{click:t.cancelDrawer}},[t._v("返回")])]),t._v(" "),i("tr",[i("td",{on:{click:function(e){return t.inputMoneyBtn(1)}}},[t._v("1")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(2)}}},[t._v("2")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(3)}}},[t._v("3")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(50)}}},[t._v("50")]),t._v(" "),i("td",{staticStyle:{"vertical-align":"middle"},attrs:{colspan:"2",rowspan:"2"}},[i("el-button",{staticStyle:{width:"100%",height:"100%","font-size":"20px"},attrs:{type:"danger",loading:t.payling},on:{click:t.confirmPay}},[t._v("结 账")])],1)]),t._v(" "),i("tr",[i("td",{on:{click:function(e){return t.inputMoneyBtn(0)}}},[t._v("0")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn("00")}}},[t._v("00")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(".")}}},[t._v(".")]),t._v(" "),i("td",{on:{click:function(e){return t.inputMoneyBtn(100)}}},[t._v("100")])])])])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left_top_content"},[e("span",{staticClass:"left_top_content_num"},[this._v("C07")]),this._v(" "),e("div",{staticClass:"left_top_content_right"},[e("span",[this._v("订单列表")]),this._v(" "),e("span",{staticClass:"left_top_content_order"},[this._v("NO.123 456 789 132")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right_nav_item_inner"},[e("i",{staticClass:"iconfont icon-zengjia",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),this._v(" "),e("span",[this._v("增加数量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right_nav_item_inner"},[e("i",{staticClass:"iconfont icon-jianshao",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),this._v(" "),e("span",[this._v("减少数量")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right_nav_item_inner"},[e("i",{staticClass:"iconfont icon-shanchu",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),this._v(" "),e("span",[this._v("删菜")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right_nav_item_inner"},[e("i",{staticClass:"iconfont icon-guanli",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),this._v(" "),e("span",[this._v("管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right_nav_item_inner"},[e("i",{staticClass:"iconfont icon-waimai",staticStyle:{"font-size":"25px","margin-bottom":"5px"}}),this._v(" "),e("span",[this._v("外卖")])])}]};var a=s("C7Lr")(o,n,!1,function(t){s("85Qb")},"data-v-4440c0b0",null);e.default=a.exports},lEyo:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAtCAYAAADYxvnjAAADnklEQVRYhc2XS0hUYRTHf/c6I1NqZlqZabbK2glF2KKgoKcJvYvehj0msqwo0DaWkEnmQkIX7cwem6KCCCIMF2VRLSJoehM6GmaZleXkONri03l579x5eef+d/d8Z87348z33f890pvZeclAOTAe42kAuAw8MQE/gYfATSAullQq2gnMkocf7gDFwFDseFSVCOTKXoF6oCxGMFqSZb/AOQSw4eQPCuIIXNEbREtKoC5gD9CkM0tAKYEC9APrgKc6sgSUGiiI11YB8EEnFrfis7NGxQKBAnQBK4H2sQBSUsKiBWTfaiDt8D6fuBYoiI6uRHR4TJW0YgnTL1YhWyykWgtJ2bbBvRYMKMArxJntCyZZTkwIGTJ5fQEZ1RVIZjMATnsHvc2PPTVDqNUEbEG8FVQVn53FzNuNpGzfGHThlJ2bSa8ohTiB0//xM63b9uO0d4QFCh6rVYXMaqzHnJHOlLKjJK/N1yyYenAPU0pLQJIAcLx+S+sOKwNfv/nkhQoKwrlKlRYGOrtwtg7fO0kivaKMpGWLlatIEpNPFpNWvNcd6nvxkrbdh3D96BmVHg4oqFjtoMOB/cBx/tneiUCczLTq0yQszPNNjJOZWn6SSYVb3aE/j55iLyph8Hev4obhgoI4AldHwf7upa3oCP0fPwMgmc1k1FYybl6ueDaZmFZVzsRNa9y/6X3QTLv1BIMOh+pmkYC6gEIUrNbV3UNb0RGcbeIYyBYLmXXnGTc3l4zaSibkL3Xn/rpzj/aSMoaczoCbSW9m5wVMCELJwH1gvv9C/IxMshrqME2dLAJDQ+5LA9Bz7QadFRdEPLBWR9LREf0EVqNgtf2tdux7S3B1D18OL8juSw10nqkOBhKI7K/3lqrV/nv/CfuBYz6XpKumnq6a0D57owVKjq1F1Wodr2zYrScY/NtH55lqui81hFw/GmcUgBxbCwBv5yxYAtwFLP45prRUBr59D6d8VM6oj3JsLU3AZhSsNkxIIIodVZAVqItSreh31EtRnWrHEhSgkihNtWMNCsJqr0VaRA9QF7CbCKdaPUDBM9U+C7eAXqAgjCCfMKdaPUHBY7UdWon+0hsUREdXEOJUGwtQ8Ey16l/KfooVKIi3gKLVKimWoKAx1Xor1qAgnOuUVpIRQAHOomG1RgEFcQSuqy0aCdQF7ELFao0ECh6rfe6/YDRQEEawCj+rNSIoeKz2y0jAqKAgOrqcYas1xZZFUyNWK/8Hpcz60h90r0gAAAAASUVORK5CYII="}});
//# sourceMappingURL=1.e822ef6fad97e4e2ed13.js.map